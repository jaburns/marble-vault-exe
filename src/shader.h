/* File generated with Shader Minifier 1.1.5
 * http://www.ctrl-alt-test.fr
 */
#ifndef SHADER_H_
# define SHADER_H_

const char *shader_glsl =
 "precision highp float;uniform ivec4 g[4];"
 "float v,f,m;"
 "vec2 y;"
 "vec2 t(float y)"
 "{"
   "return y=(y+1.)/2.,vec2(floor(y*255.)/255.,fract(255.*y));"
 "}"
 "float n(ivec2 y)"
 "{"
   "return(float(y.x)/255.+float(y.y)/255./255.)*2.-1.;"
 "}"
 "float n(float f,float y)"
 "{"
   "return-length(min(vec2(f,y),0.))+max(min(f,y),0.);"
 "}"
 "float x(float y)"
 "{"
   "return fract(sin(v+11.*floor(y+11.))*(22.+v));"
 "}"
 "float t(vec2 y,float f)"
 "{"
   "float m=.7+.6*x(y.x+f);"
   "y=vec2(abs(mod(y.x+.5,1.)-f),y.y+x(y.x+f+9.)*v/7.+.5-v/10.);"
   "return dot(y,vec2(.3,.95))<0.?length(y)-m:dot(y,vec2(.95,-.3))-m;"
 "}"
 "float d(vec2 y)"
 "{"
   "return min(y.x-.7*y.y-3.,n(n(t(y,.5),t(y,-.5)),t(y,1.5)));"
 "}"
 "vec2 h(vec2 y)"
 "{"
   "vec2 v=vec2(.0001,0);"
   "return normalize(vec2(d(y-v.xy)-d(y+v.xy),d(y-v.yx)-d(y+v.yx)));"
 "}"
 "vec3 r(float y)"
 "{"
   "return.45+.51*(clamp(abs(mod(fract(y)*6.+vec3(0,4,2),6.)-3.)-1.,0.,1.)-.5);"
 "}"
 "vec3 s(vec2 x)"
 "{"
   ""
   "bool m=mod(v,2.)<1.;"
   "vec2 i=(x-vec2(1280,720)*.5)/720.;"
   "float n=fract(.2+v*.1),s=length(40.*i-(m?vec2(15,7):vec2(15)));"
   "vec3 t=mix(vec3(1),mix(m?vec3(1,.86,.39):vec3(1),m?mix(vec3(.13,.16,.31),vec3(.9,.42,.44),1.-2.*i.y):vec3(.44,.69,1),1.-exp(-.2*s)),step(1.,s));"
   "i.x+=float(g[0].y)/32768.;"
   "i*=3.5;"
   "i.y-=.9;"
   "if(length(i-y)<.06)"
     "return i-=y,s=max(7.*length(i-vec2(.04))+.9,0.),dot(i,vec2(sin(f),cos(f)))>0.?vec3(1)/s/s:r(n+.5)/s/s;"
   "for(float w=0.;w<3.;w++)"
     "{"
       "vec2 l=pow(2.,w)*i-(pow(w+1.,2.)-1.)*vec2(float(g[0].w)/32768.-99.,.1*w-.2),c=h(l);"
       "s=d(l);"
       "if(s>0.)"
         "{"
           "s*=w==0.?2.:.5;"
           "s=min(1.,s);"
           "float e=1.-sqrt(2.*s-s*s);"
           "l+=(w==0.?.5:1.)*vec2(-e,e);"
           "if(w==0.&&l.x>34.3&&l.x<35.)"
             "return l=floor(10.*l),vec3(.2+.8*mod(l.x+l.y,2.));"
           "l+=.8*sin(.9*l.yx);"
           "vec3 a=r(w==0.?n:n-.3)*(1.-.1*abs(floor(mod(8.*(l.x+2.-l.y),4.))-2.))*(.5+e*(.2+max(0.,dot(vec2(.8,.6),c))));"
           "return mix(vec3(.13,.16,.31),mix(a,vec3(.44,.69,1),w*.3),m?.6:1.);"
         "}"
     "}"
   "return t;"
 "}"
 "void main()"
 "{"
   "float i=float(g[3].w);"
   "f=.0246*float(g[3].x);"
   "m=2.*float(g[3].y)/255.-1.;"
   "v=float(g[0].x);"
   "vec2 l=gl_FragCoord.xy,w=vec2(n(g[2].xy),n(g[2].zw));"
   "y=vec2(n(g[1].xy),n(g[1].zw));"
   "y.x+=float(g[0].y)/32768.;"
   "y*=3.5;"
   "gl_FragColor=vec4((s(l+vec2(-.375,.125))+s(l+vec2(-.125,-.375))+s(l+vec2(.125,.375))+s(l+vec2(.375,-.125)))/4.,1);"
   "if(l.y<1.&&l.x<4.)"
     "{"
       "w.y-=.02;"
       "y+=.05*w;"
       "f+=m;"
       "vec2 a=h(y),x=vec2(a.y,-a.x);"
       "if(d(y)>=-.055)"
         "{"
           "if(dot(a,w)<0.)"
             "y+=a*(d(y)+.055),w=dot(w,x)*x,m=.6*length(w)*sign(w.x*a.y-w.y*a.x);"
           "i=0.;"
         "}"
       "else"
         "{"
           "if(g[0].z>1)"
             "w.y=-1.,m=0.;"
           "if(i<7.)"
             "i++;"
         "}"
       "if(i<7.&&mod(float(g[0].z),2.)>0.)"
         "i=7.,w.y=max(.5,w.y+.5);"
       "y/=3.5;"
       "y.x-=float(g[0].w)/32768.;"
       "gl_FragColor=l.x<2.?vec4(t(y.x),t(y.y)):l.x<3.?vec4(t(w.x),t(w.y)):vec4(fract(f/6.28),(m+1.)/2.,0,i/255.);"
     "}"
 "}";

#endif // SHADER_H_
